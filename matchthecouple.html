<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinta yang Tersembunyi - Permainan Memori Romantis</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400;600&display=swap');
        
        :root {
            --primary-color: #ff4d6d;
            --secondary-color: #ff8fa3;
            --accent-color: #ffb3c1;
            --bg-color: #fff0f3;
            --text-color: #590d22;
            --card-color: #ffffff;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            text-align: center;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            background-image: radial-gradient(circle, var(--accent-color) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        h1 {
            margin-top: 20px;
            color: var(--primary-color);
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        #main-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 240, 243, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: all 0.5s ease;
        }
        
        #main-menu h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 20px;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
        }
        
        #main-menu p {
            font-size: 1.2rem;
            max-width: 600px;
            margin-bottom: 40px;
            line-height: 1.6;
        }
        
        .heart {
            position: absolute;
            pointer-events: none;
            opacity: 0;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        #gameContainer {
            width: 700px;
            margin: 20px auto;
            display: grid;
            grid-template-columns: repeat(8, 80px);
            grid-gap: 10px;
            justify-content: center;
            perspective: 1000px;
        }
        
        .card {
            width: 80px;
            height: 80px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
            cursor: pointer;
        }
        
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .card-front {
            background-color: var(--card-color);
            border: 2px solid var(--primary-color);
            transform: rotateY(180deg);
            font-size: 40px;
        }
        
        .card-back {
            background-color: var(--card-color);
            border: 2px solid var(--primary-color);
            font-size: 40px;
        }
        
        .card-back::before {
            content: '‚ù§Ô∏è';
        }
        
        .card.flipped {
            transform: rotateY(180deg);
        }
        
        .card.matched .card-front {
            background-color: var(--accent-color);
            animation: matched 0.5s ease;
        }
        
        @keyframes matched {
            0% { transform: rotateY(180deg) scale(1); }
            50% { transform: rotateY(180deg) scale(1.1); }
            100% { transform: rotateY(180deg) scale(1); }
        }
        
        button.control-btn {
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            background-color: var(--primary-color);
            color: white;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            font-weight: 600;
        }
        
        button.control-btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        #settingsBtn {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        
        #backBtn {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
        }
        
        #timer {
            font-size: 1.2rem;
            margin: 10px 0;
            color: var(--primary-color);
            font-weight: bold;
        }
        
        #controls {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin: 10px 0;
        }
        
        #win-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 240, 243, 0.95);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        #win-screen h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        #win-screen p {
            font-size: 1.5rem;
            margin-bottom: 30px;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--primary-color);
            opacity: 0;
            animation: confetti 5s ease-in-out infinite;
        }
        
        @keyframes confetti {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        @media (max-width: 768px) {
            #gameContainer {
                width: 100%;
                grid-template-columns: repeat(4, 1fr);
                padding: 10px;
            }
            
            .card {
                width: 100%;
                height: 0;
                padding-bottom: 100%;
                position: relative;
            }
            
            .card-face {
                position: absolute;
                width: 100%;
                height: 100%;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            #backBtn, #settingsBtn {
                position: static;
                margin: 5px;
            }
            
            #controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>

    <div id="main-menu">
        <h2>Cinta yang Tersembunyi</h2>
        <p>Temukan semua pasangan hati yang tersembunyi dalam permainan memori romantis ini. Setiap pasangan yang Anda temukan akan membawa Anda lebih dekat pada kebahagiaan.</p>
        <button class="control-btn" id="startBtn">Mulai Petualangan Cinta</button>
        <button class="control-btn" id="howToPlayBtn">Cara Bermain</button>
    </div>

    <h1>Cinta yang Tersembunyi ‚ù§Ô∏è</h1>
    <div id="timer">Waktu: 00:00</div>
    
    <div id="controls">
        <button class="control-btn" id="backBtn">Kembali</button>
        <button class="control-btn" id="restartBtn">Mulai Ulang</button>
        <button class="control-btn" id="settingsBtn">üîä Musik</button>
    </div>

    <div id="gameContainer"></div>

    <div id="win-screen">
        <h2>Selamat!</h2>
        <p>Anda telah menemukan semua pasangan cinta!</p>
        <p id="final-time">Waktu Anda: 00:00</p>
        <button class="control-btn" id="playAgainBtn">Main Lagi</button>
        <button class="control-btn" id="backToIndexBtn">Kembali</button>
    </div>

    <!-- Musik -->
    <audio id="bgMusic" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>
    <audio id="flipSound">
        <source src="https://www.soundjay.com/buttons/sounds/button-09.mp3" type="audio/mpeg">
    </audio>
    <audio id="matchSound">
        <source src="https://www.soundjay.com/buttons/sounds/button-21.mp3" type="audio/mpeg">
    </audio>
    <audio id="winSound">
        <source src="https://www.soundjay.com/buttons/sounds/button-20.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Elemen DOM
        const gameContainer = document.getElementById('gameContainer');
        const bgMusic = document.getElementById('bgMusic');
        const flipSound = document.getElementById('flipSound');
        const matchSound = document.getElementById('matchSound');
        const winSound = document.getElementById('winSound');
        const mainMenu = document.getElementById('main-menu');
        const startBtn = document.getElementById('startBtn');
        const howToPlayBtn = document.getElementById('howToPlayBtn');
        const restartBtn = document.getElementById('restartBtn');
        const settingsBtn = document.getElementById('settingsBtn');
        const backBtn = document.getElementById('backBtn');
        const playAgainBtn = document.getElementById('playAgainBtn');
        const backToIndexBtn = document.getElementById('backToIndexBtn');
        const winScreen = document.getElementById('win-screen');
        const timerDisplay = document.getElementById('timer');
        const finalTimeDisplay = document.getElementById('final-time');
        
        // Variabel game
        let musicOn = true;
        let soundsOn = true;
        let firstCard = null;
        let secondCard = null;
        let lockBoard = false;
        let matchedPairs = 0;
        let timer = 0;
        let timerInterval;
        let totalPairs = 20;
        
        // Simbol untuk kartu
        const romanticSymbols = [
            '‚ù§Ô∏è', 'üíë', 'üë´', 'üíè', 'üíí', 'üíù', 'üíò', 'üíñ', 
            'üíó', 'üíì', 'üíû', 'üíï', 'üíü', '‚ù£Ô∏è', 'üíå', 'üåπ', 
            'ü•Ä', 'üå∫', 'üå∏', 'üíê', 'üéÅ', 'üéÄ', 'üíç', 'üë∞',
            'ü§µ', 'üíã', 'üòò', 'ü•∞', 'üòç', 'üíê', 'üå∑', 'üåº'
        ].slice(0, totalPairs);
        
        // Fungsi untuk membuat hearts floating
        function createHearts() {
            const heart = document.createElement('div');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
            heart.style.animationDuration = (Math.random() * 4 + 3) + 's';
            document.body.appendChild(heart);
            
            setTimeout(() => {
                heart.remove();
            }, 6000);
        }
        
        // Set interval untuk hearts floating
        setInterval(createHearts, 300);
        
        // Start timer
        function startTimer() {
            let seconds = 0;
            timerInterval = setInterval(() => {
                seconds++;
                timer = seconds;
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = seconds % 60;
                timerDisplay.textContent = `Waktu: ${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
            }, 1000);
        }
        
        // Reset timer
        function resetTimer() {
            clearInterval(timerInterval);
            timer = 0;
            timerDisplay.textContent = 'Waktu: 00:00';
        }
        
        // Inisialisasi game
        function initGame() {
            gameContainer.innerHTML = '';
            matchedPairs = 0;
            resetTimer();
            startTimer();
            
            let cards = [...romanticSymbols, ...romanticSymbols];
            cards.sort(() => 0.5 - Math.random());
            
            cards.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.classList.add('card');
                card.dataset.symbol = symbol;
                card.dataset.index = index;
                
                const cardBack = document.createElement('div');
                cardBack.classList.add('card-face', 'card-back');
                
                const cardFront = document.createElement('div');
                cardFront.classList.add('card-face', 'card-front');
                cardFront.textContent = symbol;
                
                card.appendChild(cardBack);
                card.appendChild(cardFront);
                card.addEventListener('click', flipCard);
                gameContainer.appendChild(card);
            });
        }
        
        // Flip card
        function flipCard() {
            if (lockBoard) return;
            if (this === firstCard) return;
            if (this.classList.contains('matched')) return;
            
            if (soundsOn) {
                flipSound.currentTime = 0;
                flipSound.play();
            }
            
            this.classList.add('flipped');
            
            if (!firstCard) {
                firstCard = this;
                return;
            }
            
            secondCard = this;
            lockBoard = true;
            
            checkForMatch();
        }
        
        // Check for match
        function checkForMatch() {
            const isMatch = firstCard.dataset.symbol === secondCard.dataset.symbol;
            
            if (isMatch) {
                if (soundsOn) {
                    matchSound.currentTime = 0;
                    matchSound.play();
                }
                
                firstCard.classList.add('matched');
                secondCard.classList.add('matched');
                matchedPairs++;
                
                // Create hearts when matched
                createHearts();
                
                resetBoard();
                checkWin();
            } else {
                setTimeout(() => {
                    firstCard.classList.remove('flipped');
                    secondCard.classList.remove('flipped');
                    resetBoard();
                }, 1000);
            }
        }
        
        // Reset board
        function resetBoard() {
            [firstCard, secondCard] = [null, null];
            lockBoard = false;
        }
        
        // Check win condition
        function checkWin() {
            if (matchedPairs === totalPairs) {
                clearInterval(timerInterval);
                if (soundsOn) {
                    winSound.play();
                }
                
                // Show win screen
                const minutes = Math.floor(timer / 60);
                const seconds = timer % 60;
                finalTimeDisplay.textContent = `Waktu Anda: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Create confetti
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 75%)`;
                    confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    confetti.style.animationDelay = (Math.random() * 2) + 's';
                    winScreen.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 5000);
                }
                
                winScreen.style.display = 'flex';
            }
        }
        
        // Event listeners
        startBtn.addEventListener('click', () => {
            mainMenu.style.opacity = '0';
            setTimeout(() => {
                mainMenu.style.display = 'none';
                initGame();
                if (musicOn) bgMusic.play();
            }, 500);
        });
        
        howToPlayBtn.addEventListener('click', () => {
            alert("Cara Bermain:\n\n1. Klik pada kartu untuk membukanya\n2. Temukan semua pasangan yang cocok\n3. Selesaikan permainan dalam waktu sesingkat mungkin\n\nSetiap pasangan yang Anda temukan akan membawa Anda lebih dekat pada kebahagiaan!");
        });
        
        restartBtn.addEventListener('click', () => {
            initGame();
        });
        
        backBtn.addEventListener('click', () => {
            window.location.href = 'index.html';
        });
        
        backToIndexBtn.addEventListener('click', () => {
            window.location.href = 'index.html';
        });
        
        settingsBtn.addEventListener('click', () => {
            musicOn = !musicOn;
            if (musicOn) {
                bgMusic.play();
                settingsBtn.textContent = "üîä Musik";
            } else {
                bgMusic.pause();
                settingsBtn.textContent = "üîá Musik";
            }
        });
        
        playAgainBtn.addEventListener('click', () => {
            winScreen.style.display = 'none';
            winScreen.innerHTML = `
                <h2>Selamat!</h2>
                <p>Anda telah menemukan semua pasangan cinta!</p>
                <p id="final-time">Waktu Anda: 00:00</p>
                <button class="control-btn" id="playAgainBtn">Main Lagi</button>
                <button class="control-btn" id="backToIndexBtn">Kembali</button>
            `;
            document.getElementById('playAgainBtn').addEventListener('click', playAgainBtn.click);
            document.getElementById('backToIndexBtn').addEventListener('click', backToIndexBtn.click);
            initGame();
        });
        
        // Initialize
        bgMusic.volume = 0.3;
        flipSound.volume = 0.5;
        matchSound.volume = 0.5;
    </script>
</body>
</html>